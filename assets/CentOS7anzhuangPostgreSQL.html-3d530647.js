import{_ as l,r,o as d,c as t,a,b as s,e as n,d as i}from"./app-4023f1b2.js";const c={},o=a("h1",{id:"centos7安装postgresql",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#centos7安装postgresql","aria-hidden":"true"},"#"),s(" CentOS7安装PostgreSQL")],-1),p=a("h2",{id:"_1-安装包下载、解压缩",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_1-安装包下载、解压缩","aria-hidden":"true"},"#"),s(" 1 安装包下载、解压缩")],-1),u={href:"https://www.postgresql.org/ftp/source/",target:"_blank",rel:"noopener noreferrer"},h=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-xvzf</span> postgresql-xxx.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-前置依赖安装" tabindex="-1"><a class="header-anchor" href="#_2-前置依赖安装" aria-hidden="true">#</a> 2 前置依赖安装</h2><h3 id="在线环境" tabindex="-1"><a class="header-anchor" href="#在线环境" aria-hidden="true">#</a> 在线环境</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> yum-mlocate-downloadonly
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> ncurses-devel-5.9-14.20130511.el7_4.x86_64.rpm
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> readline-devel-6.2-11.el7.x86_64.rpm
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> zlib-1.2.7-19.el7_9.x86_64.rpm
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> zlib-devel-1.2.7-19.el7_9.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="离线环境" tabindex="-1"><a class="header-anchor" href="#离线环境" aria-hidden="true">#</a> 离线环境</h3>`,5),m={href:"https://wwzm.lanzouj.com/ien2x1iwtrkd",target:"_blank",rel:"noopener noreferrer"},v=i(`<blockquote><p>通过rpm命令安装相关依赖</p></blockquote><h2 id="_3-编译和安装" tabindex="-1"><a class="header-anchor" href="#_3-编译和安装" aria-hidden="true">#</a> 3 编译和安装</h2><h3 id="configure目录" tabindex="-1"><a class="header-anchor" href="#configure目录" aria-hidden="true">#</a> configure目录</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/pgsql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="make-make-install" tabindex="-1"><a class="header-anchor" href="#make-make-install" aria-hidden="true">#</a> make &amp;&amp; make install</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-目录配置和授权" tabindex="-1"><a class="header-anchor" href="#_4-目录配置和授权" aria-hidden="true">#</a> 4 目录配置和授权</h2><h3 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户" aria-hidden="true">#</a> 创建用户</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">useradd</span> postgres
<span class="token function">passwd</span> postgres
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建配置目录并授权" tabindex="-1"><a class="header-anchor" href="#创建配置目录并授权" aria-hidden="true">#</a> 创建配置目录并授权</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/pgsql/
<span class="token function">mkdir</span> data
<span class="token function">chown</span> <span class="token parameter variable">-R</span> postgres:postgres /usr/local/pgsql/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-修改相关配置" tabindex="-1"><a class="header-anchor" href="#_5-修改相关配置" aria-hidden="true">#</a> 5 修改相关配置</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 开放远程连接</span>
<span class="token comment"># 添加 listen_addresses = &#39;*&#39;</span>
<span class="token function">vi</span> /usr/local/pgsql/data/postgresql.conf
<span class="token comment"># 添加 host    all    all       0.0.0.0/0     password</span>
<span class="token function">vi</span> /usr/local/pgsql/data/pg_hba.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-初始化数据库和启动数据库服务" tabindex="-1"><a class="header-anchor" href="#_6-初始化数据库和启动数据库服务" aria-hidden="true">#</a> 6 初始化数据库和启动数据库服务</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 切换用户</span>
<span class="token function">su</span> postgres
<span class="token comment"># 进入bin目录</span>
<span class="token builtin class-name">cd</span> /usr/local/pgsql/bin
<span class="token comment"># 初始化数据库</span>
./initdb <span class="token parameter variable">-D</span> /usr/local/pgsql/data
<span class="token comment"># 启动数据库服务</span>
./pg_ctl <span class="token parameter variable">-D</span> /usr/local/pgsql/data <span class="token parameter variable">-l</span> logfile start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-登入修改postgres用户密码" tabindex="-1"><a class="header-anchor" href="#_7-登入修改postgres用户密码" aria-hidden="true">#</a> 7 登入修改postgres用户密码</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 登陆</span>
<span class="token punctuation">.</span><span class="token operator">/</span>psql <span class="token operator">-</span>d postgres
<span class="token comment"># 修改密码</span>
<span class="token keyword">ALTER</span> <span class="token keyword">USER</span> postgres <span class="token keyword">WITH</span> PASSWORD <span class="token string">&#39;postgres&#39;</span><span class="token punctuation">;</span>
<span class="token comment"># 退出</span>
\\q
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17);function b(g,k){const e=r("ExternalLinkIcon");return d(),t("div",null,[o,p,a("p",null,[a("a",u,[s("官方下载地址"),n(e)])]),h,a("p",null,[a("a",m,[s("离线rpm依赖包下载地址"),n(e)])]),v])}const f=l(c,[["render",b],["__file","CentOS7anzhuangPostgreSQL.html.vue"]]);export{f as default};
