import{_ as t,r as i,o as l,c as p,b as n,d as a,e as c,a as s}from"./app-be491351.js";const o={},r=s('<h1 id="基于frp的内网穿透运用" tabindex="-1"><a class="header-anchor" href="#基于frp的内网穿透运用" aria-hidden="true">#</a> 基于Frp的内网穿透运用</h1><h2 id="_1-服务器端配置" tabindex="-1"><a class="header-anchor" href="#_1-服务器端配置" aria-hidden="true">#</a> 1 服务器端配置</h2><h3 id="_1-1-下载适用于当前服务器架构的frp软件包" tabindex="-1"><a class="header-anchor" href="#_1-1-下载适用于当前服务器架构的frp软件包" aria-hidden="true">#</a> 1.1 下载适用于当前服务器架构的frp软件包</h3>',3),u={href:"https://github.com/fatedier/frp",target:"_blank",rel:"noopener noreferrer"},d=s(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZ2vcf1lidtliymh8xfkzlZ frp_0.61.1_linux_amd64<span class="token punctuation">]</span><span class="token comment"># lscpu</span>
Architecture:          x86_64
CPU op-mode<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:        <span class="token number">32</span>-bit, <span class="token number">64</span>-bit
Byte Order:            Little Endian
CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:                <span class="token number">2</span>
On-line CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span> list:   <span class="token number">0,1</span>
Thread<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per core:    <span class="token number">2</span>
Core<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per socket:    <span class="token number">1</span>
Socket<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:             <span class="token number">1</span>
NUMA node<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:          <span class="token number">1</span>
Vendor ID:             GenuineIntel
CPU family:            <span class="token number">6</span>
Model:                 <span class="token number">85</span>
Model name:            Intel<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Xeon<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Platinum
Stepping:              <span class="token number">4</span>
CPU MHz:               <span class="token number">2500.002</span>
BogoMIPS:              <span class="token number">5000.00</span>
Hypervisor vendor:     KVM
Virtualization type:   full
L1d cache:             32K
L1i cache:             32K
L2 cache:              1024K
L3 cache:              33792K
NUMA node0 CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:     <span class="token number">0,1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://s2.loli.net/2025/02/08/HDIbP29AuWVvSjk.png" alt="HDIbP29AuWVvSjk.png"></p><blockquote><p>下载完成后解压到目录。</p></blockquote><h3 id="_1-2-启动服务器端服务" tabindex="-1"><a class="header-anchor" href="#_1-2-启动服务器端服务" aria-hidden="true">#</a> 1.2 启动服务器端服务</h3><p>编辑frps.toml服务器端配置文件：</p><blockquote><p>这里设置了frp应用监听的端口以及控制面板web端口</p></blockquote><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token key attr-name">bindPort</span> <span class="token punctuation">=</span> <span class="token value attr-value">7000</span>
<span class="token key attr-name">webServer.addr</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">0.0.0.0</span>&quot;</span>
<span class="token key attr-name">webServer.port</span> <span class="token punctuation">=</span> <span class="token value attr-value">7001</span>
<span class="token comment"># dashboard&#39;s username and password are both optional</span>
<span class="token key attr-name">webServer.user</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">admin</span>&quot;</span>
<span class="token key attr-name">webServer.password</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">admin</span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过frps指定配置文件后台启动：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">nohup</span> ./frps <span class="token parameter variable">-c</span> frps.toml <span class="token operator">&amp;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可以查看运行日志：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tail</span> <span class="token parameter variable">-f</span> nohup.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-客户端配置" tabindex="-1"><a class="header-anchor" href="#_2-客户端配置" aria-hidden="true">#</a> 2 客户端配置</h2><p>示例这边使用的客户端为Windows系统。</p><h3 id="_2-1-下载客户端软件包" tabindex="-1"><a class="header-anchor" href="#_2-1-下载客户端软件包" aria-hidden="true">#</a> 2.1 下载客户端软件包</h3><p><img src="https://s2.loli.net/2025/02/08/PvmbsLKVkM4WcHZ.png" alt="PvmbsLKVkM4WcHZ.png"></p><p>下载完成后解压。</p><h3 id="_2-2-修改客户端配置文件" tabindex="-1"><a class="header-anchor" href="#_2-2-修改客户端配置文件" aria-hidden="true">#</a> 2.2 修改客户端配置文件</h3><p>编辑frpc.toml客户端配置文件：</p><blockquote><p>这里的配置将服务器的7222端口映射到本地8080</p></blockquote><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token key attr-name">serverAddr</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">47.109.40.4</span>&quot;</span>
<span class="token key attr-name">serverPort</span> <span class="token punctuation">=</span> <span class="token value attr-value">7000</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">[proxies</span><span class="token punctuation">]</span></span>]
<span class="token key attr-name">name</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">web-test</span>&quot;</span>
<span class="token key attr-name">type</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">tcp</span>&quot;</span>
<span class="token key attr-name">localIP</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;<span class="token inner-value">127.0.0.1</span>&quot;</span>
<span class="token key attr-name">localPort</span> <span class="token punctuation">=</span> <span class="token value attr-value">8080</span>
<span class="token key attr-name">remotePort</span> <span class="token punctuation">=</span> <span class="token value attr-value">7222</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-启动客户端服务" tabindex="-1"><a class="header-anchor" href="#_2-3-启动客户端服务" aria-hidden="true">#</a> 2.3 启动客户端服务</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>frpc <span class="token parameter variable">-c</span> frpc.toml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://s2.loli.net/2025/02/08/eSHYpf3tLJKGryU.png" alt="eSHYpf3tLJKGryU.png"></p><h2 id="_3-访问测试" tabindex="-1"><a class="header-anchor" href="#_3-访问测试" aria-hidden="true">#</a> 3 访问测试</h2><blockquote><p>这里本地启动一个 springboot 服务，服务端口设置到上述配置的8080端口上。 <img src="https://s2.loli.net/2025/02/08/IXhtBc9iRd1sbom.png" alt="IXhtBc9iRd1sbom.png"></p></blockquote><h3 id="_3-1-本地访问测试" tabindex="-1"><a class="header-anchor" href="#_3-1-本地访问测试" aria-hidden="true">#</a> 3.1 本地访问测试</h3><blockquote><p>访问 http://localhost:8080/user/list <img src="https://s2.loli.net/2025/02/08/NFfhYm9IDAEizKk.png" alt="NFfhYm9IDAEizKk.png"></p></blockquote><h3 id="_3-2-远程访问测试" tabindex="-1"><a class="header-anchor" href="#_3-2-远程访问测试" aria-hidden="true">#</a> 3.2 远程访问测试</h3><blockquote><p>访问服务器的映射端口对应服务 http://47.109.40.4:7222/user/list <img src="https://s2.loli.net/2025/02/08/R2E8ZrUSsyQMJXw.png" alt="R2E8ZrUSsyQMJXw.png"></p></blockquote><p>可见通过服务器映射的端口也可以访问客户端本地的应用服务，到此实现了基本的内网穿透运用。</p>`,30);function v(m,k){const e=i("ExternalLinkIcon");return l(),p("div",null,[r,n("p",null,[a("软件下载地址："),n("a",u,[a("Frp开源Github地址"),c(e)])]),d])}const h=t(o,[["render",v],["__file","jiyuFrpdenawangchuantouyunyong.html.vue"]]);export{h as default};
